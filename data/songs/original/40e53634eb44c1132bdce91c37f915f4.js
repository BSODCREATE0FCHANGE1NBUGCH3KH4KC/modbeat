//song by hcdphobe, date 2023-06-15
t%=3165881, //REMOVE THIS IF YOU DON'T WANT SONG TO LOOP
//set-up some shortcuts 
q=t/1.00640625,
k=t/2.78,
n=q>>15&3,
l=q%2**15,
m=NaN,
//array
bass1=[5,5,-2,0],
bass1sub=[5,5,5,5,5,5,5,5,-2,-2,5,10,4,0,7,12],
bass2=[5,4,0,-4],
bass2sub=[5,5,5,5,4,4,4,4,0,0,0,0,-4,-4,0,0],
bass3=[5,m,m,5,8,m,m,8,10,m,m,10],
melody1=[m,0,5,0,8,5,7,3,-2,2,5,2,0,4,7,4],
melody1sub=[m,0,5,0,8,5,7,3,-2,2,5,2,0,4,7],
melody2=[-7,-4,0,5,-8,-2,4,7,4,0,-5,-8,-12,-8,-5,0,-4,-7,-4,0,7,5,0,-4,0,5,5,8,8,12,12,17],
melody2sub=[-7,-4,0,5,-8,-2,4,7,4,0,-5,-8,-12,-8,-5,0,-4,-7,-4,0,7,5,0,-4,0,5,5,8,8],
melody3=[-7,-4,0,5,-8,-2,4,7,4,0,-5,-8,-12,-8,-5,0,-4,-7,-4,0,7,5,0,-4,0,5,5,0,-4,-4,-7],
melody3sub=[-7,-4,0,5,-8,-2,4,7,4,0,-5,-8,-12,-8,-5,0,-4,-7,-4,0,7,5,0,-4,0,5,5,0,0],
chord=[m,m,0,m,0,m,0,5,m,m,5,2,m,m,-2,0,m,m,0,m,0,m,0,5,m,m,5,4,m,m,4,0],
chordsub=[m,m,0,m,0,m,0,5,m,m,5,2,m,m,-2,0,m,m,0,m,0,m,0,5,m,m,5,4,m,m,4,m],
arpeggiator=[m,5,m,m,5,m,m,m,m,-2,m,m,0,m,m,m],
z=v=>k*2**(v/12),
/*
ABOUT THIS PIANO NOTES
when in positive number, the notes are as follows:
0 is b
1 is c
2 is c#
3 is d
4 is d#
5 is e
6 is f
7 is f#
8 is g
9 is g#
10 is a
11 is a#
12 is b
when in negative number, the notes are as follows:
-12 is b
-11 is c
-10 is c#
-9 is d
-8 is d#
-7 is e
-6 is f
-5 is f#
-4 is g
-3 is g#
-2 is a
-1 is a#
-0 is b
*/
r=(v,c,d,x,f,b)=>z(v[(q-b>>c)%d])*x&f,
d=((3e4/(q%16384)**.2)&128)/3+16*random()*(-q&4095)/2e3*(q>>13&1)+((t*sin(t>>3))&255)*(-q&16383)*(q>>14&1)/8e4+32*random()*(-q&65535)/4e4*((4==(q>>16&7)&&t<347978)||0==(q>>16&7)),
m1=(r(melody1,13,16,4,128,0)&&-q>>5&255)/4+(r(melody1sub,13,16,4,128,12288)&&-q+12288>>5&255)/8,
m2=((z(-7)&127)+32&128&&-q>>5&255)/3.5,
m3=(r(bass1,15,4,.5,127,0)+32&128&&-q>>5&255)/3.5,
m4=(r(bass1sub,13,16,.5,127,0)+32&128&&-q>>5&255)/3.5,
m5=((r(chord,13,32,8,128,0)&&-q>>5&255)/4+(r(chordsub,13,32,8,128,12288)&&-q+12288>>5&255)/6)*(t>535316),
m6=r(arpeggiator,13,16,(q&1024?16:8),128,0)/4,
m7=(r(bass2,15,4,.5,127,0)+32&128&&-q>>5&255)/3.5,
m8=(r(melody2,12,32,4,128,0)&&-q>>4&255)/4+(r(melody2sub,12,32,4,128,12288)&&-q+12288>>4&255)/8,
m9=(r(melody3,12,32,4,128,0)&&-q>>4&255)/4+(r(melody3sub,12,32,4,128,12288)&&-q+12288>>4&255)/8,
m10=(r(bass2sub,13,16,.5,127,0)+32&128&&-q>>5&255)/3.5,
m11=(n!=3?(r(bass3,13,16,.5,127,0)+32&128&&-q>>5&255):((z(0)&127)+32&128&&-l/1.5>>5)&255)/3.5,
//the song ðŸŽµ 
v=[
m1,m2+m1,m3+m1+d,m4+m1+d, //intro
m5+m3+m1+m6+d,m5+m3+m1+m6+d,m5+m3+m1+m6+d,m5+m4+m1+m6+d, //main
m7+m8+d,m7+m8+d,m7+m8+d,m10+m9+d, //pre-outro 
m11+m1*(t>1589952),m11+m1,m11+m1+m6,m11+m1+m6, //post-intro
(t>2122445)*m5+m11+m1+m6+d,m5+m11+m1+m6+d,m5+m11+m1+m6+d,m5+m11+m1+m6+d, //main 2
m7+m8+d,m7+m8+d,m7+m8+d,m10+m9+d, //outro
][q>>17],
v*v>>16?255:v //clamp that s---