t2=t, //original t for readout
readout=0, //turn on by changing 0 to 1
track=[
/*
 HH BB C1 C2 C3 LL DRUMS*/
'07 07 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 13 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'13 07 07 0a 0e      h  ',
'07 07 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 13 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24 0e 07 0a 0e      h  ',
'13    07 0a 0e      h  ',
'07 07 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 13 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24    05 09 0c      h  ',
'13 07 05 09 0c      h  ',
'07 07 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 13 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24 0e 05 09 0c      h  ',
'13    05 09 0c      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24    03 07 0a      h  ',
'13 0c 03 07 0a      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24 13 03 07 0a      h  ',
'13    03 07 0a      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24    03 07 0a      h  ',
'13 0c 03 07 0a      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24 13 03 07 0a      h  ',
'13    03 07 0a      h  ',
'07 0f 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 1b 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'13 0f 07 0a 0e      h  ',
'07 0f 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 1b 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24 16 07 0a 0e      h  ',
'13    07 0a 0e      h  ',
'07 11 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 1d 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24    05 09 0c      h  ',
'13 11 05 09 0c      h  ',
'07 11 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 1d 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24 18 05 09 0c      h  ',
'13    05 09 0c      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24    00 03 07      h  ',
'13 08 00 03 07      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24 0f 00 03 07      h  ',
'13    00 03 07      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24    00 03 07      h  ',
'13 08 00 03 07      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24 0f 00 03 07      h  ',
'13    00 03 07      h  ',
'07 07 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 13 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'13 07 07 0a 0e      h  ',
'07 07 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 13 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24 0e 07 0a 0e      h  ',
'13    07 0a 0e      h  ',
'07 07 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 13 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24    05 09 0c      h  ',
'13 07 05 09 0c      h  ',
'07 07 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 13 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24 0e 05 09 0c      h  ',
'13    05 09 0c      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24    03 07 0a      h  ',
'13 0c 03 07 0a      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24 13 03 07 0a      h  ',
'13    03 07 0a      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24    03 07 0a      h  ',
'13 0c 03 07 0a      h  ',
'07 0c 03 07 0a      h k',
'1a    03 07 0a      h  ',
'1f 18 03 07 0a      h  ',
'24    03 07 0a      h  ',
'2b    03 07 0a    s h k',
'1f    03 07 0a      h  ',
'24 13 03 07 0a      h  ',
'13    03 07 0a      h  ',
'07 0f 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 1b 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'13 0f 07 0a 0e      h  ',
'07 0f 07 0a 0e      h k',
'1a    07 0a 0e      h  ',
'1f 1b 07 0a 0e      h  ',
'24    07 0a 0e      h  ',
'2b    07 0a 0e    s h k',
'1f    07 0a 0e      h  ',
'24 16 07 0a 0e      h  ',
'13    07 0a 0e      h  ',
'07 11 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 1d 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24    05 09 0c      h  ',
'13 11 05 09 0c      h  ',
'07 11 05 09 0c      h k',
'1a    05 09 0c      h  ',
'1f 1d 05 09 0c      h  ',
'24    05 09 0c      h  ',
'2b    05 09 0c    s h k',
'1f    05 09 0c      h  ',
'24 18 05 09 0c      h  ',
'13    05 09 0c      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24    00 03 07      h  ',
'13 08 00 03 07      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24 0f 00 03 07      h  ',
'13    00 03 07      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24    00 03 07      h  ',
'13 08 00 03 07      h  ',
'07 08 00 03 07      h k',
'1a    00 03 07      h  ',
'1f 14 00 03 07      h  ',
'24    00 03 07      h  ',
'2b    00 03 07    s h k',
'1f    00 03 07      h  ',
'24 0f 00 03 07      h  ',
'13    00 03 07      h  ',
'07 07 07 0a 0e 16   h k',
'1a    07 0a 0e 16   h  ',
'1f 13 07 0a 0e 16   h  ',
'24    07 0a 0e 15   h  ',
'2b    07 0a 0e 15 s h k',
'1f    07 0a 0e 15   h  ',
'24    07 0a 0e 11   h  ',
'13 07 07 0a 0e 11   h  ',
'07 07 07 0a 0e 11   h k',
'1a    07 0a 0e 11   h  ',
'1f 13 07 0a 0e 11   h  ',
'24    07 0a 0e 11   h  ',
'2b    07 0a 0e 11 s h k',
'1f    07 0a 0e 11   h  ',
'24 0e 07 0a 0e 0c   h  ',
'13    07 0a 0e 0a   h  ',
'07 07 05 09 0c 16   h k',
'1a    05 09 0c 16   h  ',
'1f 13 05 09 0c 16   h  ',
'24    05 09 0c 15   h  ',
'2b    05 09 0c 15 s h k',
'1f    05 09 0c 15   h  ',
'24    05 09 0c 11   h  ',
'13 07 05 09 0c 11   h  ',
'07 07 05 09 0c 11   h k',
'1a    05 09 0c 11   h  ',
'1f 13 05 09 0c 11   h  ',
'24    05 09 0c 11   h  ',
'2b    05 09 0c 11 s h k',
'1f    05 09 0c 11   h  ',
'24 0e 05 09 0c 0c   h  ',
'13    05 09 0c 0a   h  ',
'07 0c 03 07 0a 16   h k',
'1a    03 07 0a 16   h  ',
'1f 18 03 07 0a 16   h  ',
'24    03 07 0a 15   h  ',
'2b    03 07 0a 15 s h k',
'1f    03 07 0a 15   h  ',
'24    03 07 0a 0f   h  ',
'13 0c 03 07 0a 0f   h  ',
'07 0c 03 07 0a 0f   h k',
'1a    03 07 0a 0f   h  ',
'1f 18 03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'2b    03 07 0a 0f s h k',
'1f    03 07 0a 0f   h  ',
'24 13 03 07 0a 0f   h  ',
'13    03 07 0a 0f   h  ',
'07 0c 03 07 0a 0f   h k',
'1a    03 07 0a 0f   h  ',
'1f 18 03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'2b    03 07 0a 0f s h k',
'1f    03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'13 0c 03 07 0a 0f   h  ',
'07 0c 03 07 0a 0f   h k',
'1a    03 07 0a 0f   h  ',
'1f 18 03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'2b    03 07 0a 0f s h k',
'1f    03 07 0a 0f   h  ',
'24 13 03 07 0a 0f   h  ',
'13    03 07 0a 0f   h  ',
'07 0f 07 0a 0e 16   h k',
'1a    07 0a 0e 16   h  ',
'1f 1b 07 0a 0e 16   h  ',
'24    07 0a 0e 15   h  ',
'2b    07 0a 0e 15 s h k',
'1f    07 0a 0e 15   h  ',
'24    07 0a 0e 11   h  ',
'13 0f 07 0a 0e 11   h  ',
'07 0f 07 0a 0e 11   h k',
'1a    07 0a 0e 11   h  ',
'1f 1b 07 0a 0e 11   h  ',
'24    07 0a 0e 11   h  ',
'2b    07 0a 0e 11 s h k',
'1f    07 0a 0e 11   h  ',
'24 16 07 0a 0e 0c   h  ',
'13    07 0a 0e 0a   h  ',
'07 11 05 09 0c 16   h k',
'1a    05 09 0c 16   h  ',
'1f 1d 05 09 0c 16   h  ',
'24    05 09 0c 15   h  ',
'2b    05 09 0c 15 s h k',
'1f    05 09 0c 15   h  ',
'24    05 09 0c 11   h  ',
'13 11 05 09 0c 11   h  ',
'07 11 05 09 0c 11   h k',
'1a    05 09 0c 11   h  ',
'1f 1d 05 09 0c 11   h  ',
'24    05 09 0c 11   h  ',
'2b    05 09 0c 11 s h k',
'1f    05 09 0c 11   h  ',
'24 18 05 09 0c 0c   h  ',
'13    05 09 0c 0a   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'13 08 00 03 07 0c   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24 0f 00 03 07 0c   h  ',
'13    00 03 07 0c   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'13 08 00 03 07 0c   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24 0f 00 03 07 0c   h  ',
'13    00 03 07 0c   h  ',
'07 07 07 0a 0e 16   h k',
'1a    07 0a 0e 16   h  ',
'1f 13 07 0a 0e 16   h  ',
'24    07 0a 0e 15   h  ',
'2b    07 0a 0e 15 s h k',
'1f    07 0a 0e 15   h  ',
'24    07 0a 0e 18   h  ',
'13 07 07 0a 0e 18   h  ',
'07 07 07 0a 0e 18   h k',
'1a    07 0a 0e 18   h  ',
'1f 13 07 0a 0e 18   h  ',
'24    07 0a 0e 18   h  ',
'2b    07 0a 0e 18 s h k',
'1f    07 0a 0e 18   h  ',
'24 0e 07 0a 0e 13   h  ',
'13    07 0a 0e 11   h  ',
'07 07 05 09 0c 16   h k',
'1a    05 09 0c 16   h  ',
'1f 13 05 09 0c 16   h  ',
'24    05 09 0c 15   h  ',
'2b    05 09 0c 15 s h k',
'1f    05 09 0c 15   h  ',
'24    05 09 0c 1a   h  ',
'13 07 05 09 0c 1a   h  ',
'07 07 05 09 0c 1a   h k',
'1a    05 09 0c 1a   h  ',
'1f 13 05 09 0c 1a   h  ',
'24    05 09 0c 1a   h  ',
'2b    05 09 0c 1a s h k',
'1f    05 09 0c 1a   h  ',
'24 0e 05 09 0c 15   h  ',
'13    05 09 0c 13   h  ',
'07 0c 03 07 0a 16   h k',
'1a    03 07 0a 16   h  ',
'1f 18 03 07 0a 16   h  ',
'24    03 07 0a 15   h  ',
'2b    03 07 0a 15 s h k',
'1f    03 07 0a 15   h  ',
'24    03 07 0a 0f   h  ',
'13 0c 03 07 0a 0f   h  ',
'07 0c 03 07 0a 0f   h k',
'1a    03 07 0a 0f   h  ',
'1f 18 03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'2b    03 07 0a 0f s h k',
'1f    03 07 0a 0f   h  ',
'24 13 03 07 0a 0f   h  ',
'13    03 07 0a 0f   h  ',
'07 0c 03 07 0a 0f   h k',
'1a    03 07 0a 0f   h  ',
'1f 18 03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'2b    03 07 0a 0f s h k',
'1f    03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'13 0c 03 07 0a 0f   h  ',
'07 0c 03 07 0a 0f   h k',
'1a    03 07 0a 0f   h  ',
'1f 18 03 07 0a 0f   h  ',
'24    03 07 0a 0f   h  ',
'2b    03 07 0a 0f s h k',
'1f    03 07 0a 0f   h  ',
'24 13 03 07 0a 0f   h  ',
'13    03 07 0a 0f   h  ',
'07 0f 07 0a 0e 16   h k',
'1a    07 0a 0e 16   h  ',
'1f 1b 07 0a 0e 16   h  ',
'24    07 0a 0e 15   h  ',
'2b    07 0a 0e 15 s h k',
'1f    07 0a 0e 15   h  ',
'24    07 0a 0e 11   h  ',
'13 0f 07 0a 0e 11   h  ',
'07 0f 07 0a 0e 11   h k',
'1a    07 0a 0e 11   h  ',
'1f 1b 07 0a 0e 11   h  ',
'24    07 0a 0e 11   h  ',
'2b    07 0a 0e 11 s h k',
'1f    07 0a 0e 11   h  ',
'24 16 07 0a 0e 0c   h  ',
'13    07 0a 0e 0a   h  ',
'07 11 05 09 0c 16   h k',
'1a    05 09 0c 16   h  ',
'1f 1d 05 09 0c 16   h  ',
'24    05 09 0c 15   h  ',
'2b    05 09 0c 15 s h k',
'1f    05 09 0c 15   h  ',
'24    05 09 0c 11   h  ',
'13 11 05 09 0c 11   h  ',
'07 11 05 09 0c 11   h k',
'1a    05 09 0c 11   h  ',
'1f 1d 05 09 0c 11   h  ',
'24    05 09 0c 11   h  ',
'2b    05 09 0c 11 s h k',
'1f    05 09 0c 11   h  ',
'24 18 05 09 0c 0c   h  ',
'13    05 09 0c 0a   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'13 08 00 03 07 0c   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24 0f 00 03 07 0c   h  ',
'13    00 03 07 0c   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'13 08 00 03 07 0c   h  ',
'07 08 00 03 07 0c   h k',
'1a    00 03 07 0c   h  ',
'1f 14 00 03 07 0c   h  ',
'24    00 03 07 0c   h  ',
'2b    00 03 07 0c s h k',
'1f    00 03 07 0c   h  ',
'24 0f 00 03 07 0c   h  ',
'13    00 03 07 0c   h  ',
],
t/=48e3,
bpm=110,
k=t*bpm/60,
s=4,
f=v=>448.5*t*2**(('0x'+v)/12),
b=v=>(v!='  ')*(0x9fabdeca*('0x'+v)>>f(v)&1?8:-8), //atari bass
h=v=>(v!='  ')*(((f(v)*16&-(w=k/2*s**5))&127)+(w&127)/2-64)/4, //harmonic melo
c=v=>(v!='  ')*(((f(v)/2%1*256)&191)-95)/16, //chord
i=v=>(v!='  ')*(([0,1,2,4,8,16,32,64,96,128,224,255,224,128,96,64,32,16,8,4,2,1][(f(v)*1.375*4|0)%22])%256-95)/8,//lead
q=v=>(v=='s')*((t%.00485*16384^t%.0062399*16384)&64?16:-16)*.1**(p=k*s%1)*1.5, //snare
j=v=>(v=='h')*(random()-.5)*.001**(p)*32, //hi-hat
r=v=>(v=='k')*(floor(sin(cbrt(k%1)*200))+.5)*32, //kick
((A)=>{if(t2%768<.5&&A&&t)throw (
'\ntick: '+(u+1)+'/'+_c+'\nharmonic melo: '+m[0]+'\nbass: '+m[1]+'\nchord 1: '+m[2]+'\nchord 2: '+m[3]+'\nchord 3: '+m[4]+'\nlead: '+m[5]+
'\ndrums: '+(m[6]=='s'?'💥':'💣')+(m[7]=='h'?'💥':'💣')+(m[8]=='k'?'💥':'💣'))})(readout),
n=track[u=(k*s|0)%(_c=track.length)], //get length of the tracks
m=[n.slice(0,2),n.slice(3,5),n.slice(6,8),n.slice(9,11),n.slice(12,14),n.slice(15,17),n.slice(18,19),n.slice(20,21),n.slice(22,23)],
128+(
 h(m[0])
+b(m[1])
+c(m[2])
+c(m[3])
+c(m[4])
+i(m[5])
+q(m[6])
+j(m[7])
+r(m[8])
)*1.2 //when using the program to render wave files to oscilloscope views, split this channel