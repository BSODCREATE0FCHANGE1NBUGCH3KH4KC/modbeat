const bpm=130.5625
const tuning=440
c=[
	[-29,-26,-21],
	[-26,-21,-17],
	[-21,-17,-14],
	[-17,-14,-9],
	[-14,-9,-5],
	[-9,-5,-2],
	[-5,-2,3],
	[-2,3,7],
	[3,7,10],
	[7,10,15],
	[10,15,19],
	[15,19,22],
	[19,22,27],
	[22,27,31],
	[27,31,34],
	[31,34,39],
	[-28,-24,-21],
	[-24,-21,-16],
	[-21,-16,-12],
	[-16,-12,-9],
	[-12,-9,-4],
	[-9,-4,0],
	[-4,0,3],
	[0,3,8],
	[3,8,12],
	[8,12,15],
	[12,15,20],
	[15,20,24],
	[20,24,27],
	[24,27,32],
	[27,32,36],
	[32,36,39],
	[-26,-22,-19],
	[-22,-19,-14],
	[-19,-14,-10],
	[-14,-10,-7],
	[-10,-7,-2],
	[-7,-2,2],
	[-2,2,5],
	[2,5,10],
	[5,10,14],
	[10,14,17],
	[14,17,22],
	[17,22,26],
	[22,26,29],
	[26,29,34],
	[29,34,38],
	[34,38,41],
	[-26,-21,-17],
	[-21,-17,-14],
	[-17,-14,-9],
	[-14,-9,-5],
	[-9,-5,-2],
	[-5,-2,3],
	[-2,3,7],
	[3,7,10],
	[7,10,15],
	[10,15,19],
	[15,19,22],
	[19,22,27],
	[22,27,31],
	[27,31,34],
	[31,34,39],
	[34,39,42]
]
notes=(t,a)=>tuning*t*2**(a/12)
chord=(t,a,arr)=>{
	let h=0
	for(let i=0;i<arr[a].length;i++) h+=notes(t,arr[a][i])%1>.5
	return h/2-.75
}
return t=>{
	const a=t*bpm/15*1
	const g=a*2**(a>>6)
	return chord(t,[0,16,32,48][a/16&3]+g%16|0,c)/exp(g%1)**.4
}